_format_version: "3.0"
_transform: true

services:
- host: nsiws-demo-hpr
  name: nsi-service
  port: 80
  protocol: http
  retries: 0 # no retries
  read_timeout: 300000 # 5 min
  routes:
  - name: catch-all-route
    expression: http.path ^= "/"
    strip_path: true
    
- host: get-data
  name: data-service
  port: 80
  protocol: http
  path: /rest/data
  retries: 0 # no retries
  read_timeout: 300000 # 5 min
  routes:
  - name: data-service-route
    expression: http.path ^= "/rest/data" && http.headers.accept ~ "application/vnd\\.sdmx\\.data\\+json"
    strip_path: true